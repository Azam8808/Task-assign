{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport api from \"../api\";\nconst useFetch = () => {\n  _s();\n  const [state, setState] = useState({\n    loading: false,\n    data: null,\n    successMsg: \"\",\n    errorMsg: \"\"\n  });\n  const fetchData = useCallback(async (config, otherOptions) => {\n    const {\n      showSuccessToast = true,\n      showErrorToast = true\n    } = otherOptions || {};\n    setState(state => ({\n      ...state,\n      loading: true\n    }));\n    try {\n      const {\n        data\n      } = await api.request(config);\n      setState({\n        loading: false,\n        data,\n        successMsg: data.msg || \"success\",\n        errorMsg: \"\"\n      });\n      if (showSuccessToast) toast.success(data.msg);\n      return Promise.resolve(data);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const msg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.msg) || error.message || \"error\";\n      setState({\n        loading: false,\n        data: null,\n        errorMsg: msg,\n        successMsg: \"\"\n      });\n      if (showErrorToast) toast.error(msg);\n      return Promise.reject();\n    }\n  }, []);\n  return [fetchData, state];\n};\n_s(useFetch, \"uLJMWDgXVlNkeHL0Wl7vEL6sBws=\");\nexport default useFetch;","map":{"version":3,"names":["useCallback","useState","toast","api","useFetch","_s","state","setState","loading","data","successMsg","errorMsg","fetchData","config","otherOptions","showSuccessToast","showErrorToast","request","msg","success","Promise","resolve","error","_error$response","_error$response$data","response","message","reject"],"sources":["C:/Users/azamk/OneDrive/Desktop/assignment/MERN-task-manager/frontend/src/hooks/useFetch.jsx"],"sourcesContent":["import { useCallback, useState } from \"react\"\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../api\";\r\n\r\nconst useFetch = () => {\r\n\r\n  const [state, setState] = useState({\r\n    loading: false,\r\n    data: null,\r\n    successMsg: \"\",\r\n    errorMsg: \"\",\r\n  });\r\n\r\n  const fetchData = useCallback(async (config, otherOptions) => {\r\n    const { showSuccessToast = true, showErrorToast = true } = otherOptions || {};\r\n    setState(state => ({ ...state, loading: true }));\r\n\r\n    try {\r\n      const { data } = await api.request(config);\r\n      setState({\r\n        loading: false,\r\n        data,\r\n        successMsg: data.msg || \"success\",\r\n        errorMsg: \"\"\r\n      });\r\n\r\n      if (showSuccessToast) toast.success(data.msg);\r\n      return Promise.resolve(data);\r\n    }\r\n    catch (error) {\r\n      const msg = error.response?.data?.msg || error.message || \"error\";\r\n      setState({\r\n        loading: false,\r\n        data: null,\r\n        errorMsg: msg,\r\n        successMsg: \"\"\r\n      });\r\n\r\n      if (showErrorToast) toast.error(msg);\r\n      return Promise.reject();\r\n    }\r\n  }, []);\r\n\r\n  return [fetchData, state];\r\n}\r\n\r\nexport default useFetch"],"mappings":";AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,GAAG,MAAM,QAAQ;AAExB,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAErB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC;IACjCO,OAAO,EAAE,KAAK;IACdC,IAAI,EAAE,IAAI;IACVC,UAAU,EAAE,EAAE;IACdC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,MAAMC,SAAS,GAAGZ,WAAW,CAAC,OAAOa,MAAM,EAAEC,YAAY,KAAK;IAC5D,MAAM;MAAEC,gBAAgB,GAAG,IAAI;MAAEC,cAAc,GAAG;IAAK,CAAC,GAAGF,YAAY,IAAI,CAAC,CAAC;IAC7EP,QAAQ,CAACD,KAAK,KAAK;MAAE,GAAGA,KAAK;MAAEE,OAAO,EAAE;IAAK,CAAC,CAAC,CAAC;IAEhD,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMN,GAAG,CAACc,OAAO,CAACJ,MAAM,CAAC;MAC1CN,QAAQ,CAAC;QACPC,OAAO,EAAE,KAAK;QACdC,IAAI;QACJC,UAAU,EAAED,IAAI,CAACS,GAAG,IAAI,SAAS;QACjCP,QAAQ,EAAE;MACZ,CAAC,CAAC;MAEF,IAAII,gBAAgB,EAAEb,KAAK,CAACiB,OAAO,CAACV,IAAI,CAACS,GAAG,CAAC;MAC7C,OAAOE,OAAO,CAACC,OAAO,CAACZ,IAAI,CAAC;IAC9B,CAAC,CACD,OAAOa,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACZ,MAAMN,GAAG,GAAG,EAAAK,eAAA,GAAAD,KAAK,CAACG,QAAQ,cAAAF,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBd,IAAI,cAAAe,oBAAA,uBAApBA,oBAAA,CAAsBN,GAAG,KAAII,KAAK,CAACI,OAAO,IAAI,OAAO;MACjEnB,QAAQ,CAAC;QACPC,OAAO,EAAE,KAAK;QACdC,IAAI,EAAE,IAAI;QACVE,QAAQ,EAAEO,GAAG;QACbR,UAAU,EAAE;MACd,CAAC,CAAC;MAEF,IAAIM,cAAc,EAAEd,KAAK,CAACoB,KAAK,CAACJ,GAAG,CAAC;MACpC,OAAOE,OAAO,CAACO,MAAM,CAAC,CAAC;IACzB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,CAACf,SAAS,EAAEN,KAAK,CAAC;AAC3B,CAAC;AAAAD,EAAA,CAxCKD,QAAQ;AA0Cd,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}